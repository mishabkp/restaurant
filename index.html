<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="Discover the best restaurants across Kerala - Browse by location, explore menus, and find your next dining experience">
  <title>FOOD VISTA - Discover Kerala's Best Restaurants</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Outfit:wght@100..900&family=Cinzel:wght@400..900&display=swap"
    rel="stylesheet">

  <!-- Favicon -->
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ½ï¸</text></svg>">

  <!-- Styles -->
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/login.css">
  <!-- Leaflet Map CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
</head>

<body>
  <!-- HEADER -->
  <header class="header">
    <nav class="nav-container">
      <!-- Logo -->
      <div class="logo" onclick="app.navigateHome()">
        FOOD VISTA
      </div>

      <!-- Search Bar -->
      <div class="search-container">
        <span class="search-icon">ğŸ”</span>
        <input type="text" class="search-input" id="searchInput" placeholder="Search restaurants or food items..."
          autocomplete="off">
        <button class="voice-search-btn" id="voiceSearchBtn" title="Search with Voice">ğŸ¤</button>
        <div id="searchResults" class="search-results hidden"></div>
      </div>

      <!-- Breadcrumb & User -->
      <div class="header-right">
        <div class="breadcrumb" id="breadcrumb">
          <span class="breadcrumb-item" onclick="app.navigateHome()">Home</span>
        </div>
        <div class="nav-links">
          <a href="#/about" class="nav-link">About</a>
          <a href="#/blog" class="nav-link">Stories</a>
          <a href="#/gallery" class="nav-link">Gallery</a>
          <a href="#/contact" class="nav-link">Contact</a>
        </div>
        <div class="user-actions" id="userActions">
          <button class="nav-btn" onclick="app.toggleTheme()" id="themeToggle" title="Toggle Theme">ğŸŒ“</button>
          <button class="nav-btn cart-toggle-btn" onclick="app.toggleCart()" title="View Cart">
            ğŸ›’ <span class="cart-badge hidden" id="cartBadge">0</span>
          </button>
          <button class="nav-btn" onclick="window.location.hash = '/dashboard'" title="My Dashboard">ğŸ‘¤</button>
        </div>
      </div>
    </nav>
  </header>

  <!-- MAIN CONTENT -->
  <main class="container" id="mainContent">
    <!-- Content will be dynamically loaded here -->
  </main>

  <!-- CART SIDEBAR -->
  <div id="cartSidebar" class="cart-overlay hidden">
    <div class="cart-drawer">
      <div class="cart-header">
        <h2 class="cart-title">Your Cart ğŸ›’</h2>
        <button class="close-cart" onclick="app.toggleCart()">âœ•</button>
      </div>
      <div id="cartItems" class="cart-items">
        <!-- Cart items dynamically loaded here -->
      </div>
      <div id="cartSummary" class="cart-summary hidden">
        <div class="summary-row">
          <span>Subtotal</span>
          <span id="cartSubtotal">â‚¹0</span>
        </div>
        <div class="summary-row">
          <span>Delivery</span>
          <span style="color: var(--success-color);">FREE</span>
        </div>
        <div class="summary-total">
          <span>Total</span>
          <span id="cartTotal">â‚¹0</span>
        </div>
        <button class="checkout-btn" onclick="app.startCheckout()">Proceed to Checkout</button>
        <button class="split-trigger-btn-large" onclick="app.openSplitBill()">
          ğŸ’¸ Split the Bill
        </button>
      </div>
    </div>
  </div>

  <!-- MODAL FOR FOOD DETAILS -->
  <div id="foodModal" class="modal-overlay hidden">
    <div class="modal-content">
      <button class="modal-close" onclick="app.closeModal()">âœ•</button>
      <div id="modalBody"></div>
    </div>
  </div>

  <!-- CHECKOUT MODAL -->
  <div id="checkoutModal" class="modal-overlay hidden">
    <div class="modal-content checkout-modal">
      <button class="modal-close" onclick="app.closeCheckout()">âœ•</button>
      <div id="checkoutBody"></div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer">
    <p class="footer-text">
      Made with <span class="footer-gradient">â¤ï¸</span> for Kerala Food Lovers
    </p>
    <p class="footer-text" style="margin-top: 0.5rem; font-size: 0.8rem;">
      Â© 2026 FOOD VISTA - College Project
    </p>
  </footer>

  <!-- SPLIT BILL MODAL -->
  <div id="splitBillModal" class="modal-overlay hidden">
    <div class="modal-content split-bill-modal">
      <button class="modal-close" onclick="app.closeSplitBill()">âœ•</button>
      <h2 class="section-title">ğŸ’¸ Split the Bill</h2>

      <div id="splitStep1">
        <p class="modal-subtitle">Add your friends to split the bill with</p>
        <div class="split-input-group">
          <input type="text" id="splitNameInput" placeholder="Friend's Name..."
            onkeypress="if(event.key === 'Enter') app.addSplitParticipant()">
          <button class="add-friend-btn" onclick="app.addSplitParticipant()">Add</button>
        </div>
        <div id="splitParticipants" class="participants-container">
          <!-- Chips added here -->
        </div>
        <button class="primary-btn full-width" onclick="app.nextSplitStep()">Next: Assign Items â”</button>
      </div>

      <div id="splitStep2" class="hidden">
        <p class="modal-subtitle">Who ate what? (Toggle to assign)</p>
        <div id="splitItemsList" class="split-items-list">
          <!-- Items to assign -->
        </div>
        <div class="split-actions">
          <button class="secondary-btn" onclick="app.prevSplitStep()">Back</button>
          <button class="primary-btn" onclick="app.calculateSplitAndShow()">Calculate Split ğŸ§®</button>
        </div>
      </div>

      <div id="splitStep3" class="hidden">
        <p class="modal-subtitle">Here's the breakdown</p>
        <div id="splitResults" class="split-results">
          <!-- Results here -->
        </div>
        <button class="secondary-btn full-width" onclick="app.closeSplitBill()">Close</button>
      </div>
    </div>
  </div>

  <!-- MAP MODAL -->
  <div id="mapModal" class="modal-overlay hidden">
    <div class="modal-content map-modal-content" style="max-width: 800px; width: 90%;">
      <button class="modal-close" onclick="app.closeMapModal()">âœ•</button>
      <h2 class="section-title">Explore Locations ğŸ“</h2>
      <div id="modalMap" class="modal-map-container"
        style="height: 500px; width: 100%; border-radius: 12px; margin-top: 1rem;"></div>
    </div>
  </div>

  <!-- Leaflet Map JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <!-- Scripts -->
  <script src="https://js.stripe.com/v3/"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.9.6/lottie.min.js"></script>

  <script src="js/search.js"></script>
  <script src="js/ai-search.js"></script>
  <script src="js/data.js"></script>
  <script src="js/app.js?v=2.5"></script>
</body>

</html>